{% extends "base.html" %}
{% block title %}Community{% endblock %}
{% block content %}
<link href="../static/community.css" rel="stylesheet" />

<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v19.0" nonce="X1NreoSu"></script>

<a href="{{ url_for('submit_post') }}"><button class="fixed-button buttonFilled">Make Post</button></a>


<div class="community-hero">
  <div class="community-hero1 heroContainer">
    <h1 class="community-text2" style="padding: 10px;">Empire Fishing Community</h1>
    <div class="community-table">
      <table>
          <tr>
              <th style="width: 25%;">Posts from Empire Fishing & Tackle</th>
              <th style="width: 75%;">Community Posts</th>
          </tr>
        <tr >
            <td ><div class="fb-page" data-href="https://www.facebook.com/empirefishingandtackle/" data-tabs="timeline" data-width="" data-height="2000px" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/empirefishingandtackle/" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/empirefishingandtackle/">Empire Fishing and Tackle</a></blockquote></div></td>
            <td class="feed">
                {% for post in posts %}
                <div class="post">
                  <div class="post-image">
                    {% if post['image'] is not none %}<img height="200px" src="static/images/community/{{ post['image'] }}">{% endif %}
                  </div>
                  <div class="post-content">
                    <h3>{{ post['usr'] }} : </h3>
                    {% if post['text'] is not none %}<p>{{ post['text'] }}</p>{% endif %}
                    <p class="date-time">Posted on {{ datetime.fromtimestamp(post['date']).strftime('%Y-%m-%d') }}</p>
                  </div>
                </div>
                <hr style="height:2px;border-width:0;color:gray;background-color:gray">
                {% endfor %}
            </td>
        </tr>
      </table>
    </div>
  </div>
</div>

<style>
.post {
    display: flex;
    align-items: center; 
    gap: 20px; 
}

.post-image img {
    display: block;
    max-height: 200px; 
    width: auto; 
}

.post-content {
    flex: 1; 
}

.feed{
  margin-top: 5px;
  margin-bottom: 10px;
  vertical-align: top;
}

.date-time{
  font-size: small;
  color: lightseagreen;
}

.fixed-button {
    position: fixed;
    font-size: larger;
    bottom: 20px; 
    right: 20px; 
    padding: 10px 20px; 
    color: white; 
    border: none; 
    border-radius: 5px; 
    cursor: pointer; 
    z-index: 1000; 
}

th{
  border-bottom: solid black 1px;
  border-bottom-style: dotted; 
}

  th, td {
  border: none; 
}

table {
  font-family: Lato;
  background: transparent; 
  overflow: hidden;
  background: none;
  border: none;
  width: 100%;
}

.fb-page {
  height: 100%;
  width: 100%;
}

</style>

{% endblock %}